{"version":3,"sources":["components/Sidebar/images/Peter-Tarka.png","components/Produtos/Formulario/styles.js","components/Produtos/Formulario/index.js","services/dao.js","components/Produtos/Cadastro/styles.js","components/Produtos/Cadastro/index.js","components/Produtos/Detalhes/styles.js","components/Produtos/Detalhes/index.js","components/Produtos/Listagem/index.js","routes.js","components/Menu/index.js","components/Sidebar/index.js","App.js","index.js"],"names":["module","exports","field","css","Form","styled","form","Div","div","Span","span","Input","input","Textarea","textarea","Button","button","MessageSpan","ErrorSpan","Formulario","operation","initialValue","backFunction","callBack","sku","name","description","price","quantity","image","useState","product","setProduct","responseError","setResponseError","message","setMessage","currentOperation","setCurrentOperation","validEmptyFields","useCallback","invalidKeys","Object","keys","filter","key","length","join","document","getElementsByName","focus","handleChange","e","target","value","handlePrice","replace","handleVoltar","preventDefault","handleChangeOperation","innerHTML","handleConfirmar","then","setTimeout","catch","evalDisableField","id","placeholder","disabled","onChange","type","min","onClick","className","data-tip","data-for","icon","faArrowLeft","place","effect","default","faCheck","dao","getProducts","Promise","resolve","reject","JSON","parse","localStorage","getItem","setProducts","produtos","setItem","stringify","produto","find","prod","Container","Cadastro","history","useHistory","push","Modal","Detalhes","select","update","Listagem","setProdutos","currentProd","setCurrentProd","renderProducts","productsToRender","prods","useEffect","visualizarDetalhes","map","faEllipsisV","refreshedProducts","otherProducts","Routes","path","component","Menu","to","activeClassName","faListUl","exact","faPlus","Sidebar","href","rel","src","require","alt","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.70b96792.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Peter-Tarka.ed5ab940.png\";","import styled, {css} from 'styled-components';\r\n\r\nconst field = css`\r\n    padding: .5rem 1rem;\r\n    margin-top: 2rem;\r\n    border: none;\r\n    background: none;\r\n    border-bottom: 3px solid RGBA(243, 208, 131, .7);\r\n    font-size: 1.3em;\r\n    font-family: 'Montserrat', sans-serif;\r\n    font-weight: 400;\r\n    color: #333;\r\n    transition: border 130ms ease-in;\r\n\r\n    :focus {\r\n        outline: none;\r\n        border-bottom: 3px solid #4480bd;\r\n    }\r\n\r\n    ::placeholder {\r\n        color: #aaa;\r\n    }\r\n`\r\n\r\nexport const Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const Div = styled.div`\r\n    width: 400px;\r\n    display: flex;\r\n    align-items: center;\r\n    background: red;\r\n`;\r\n\r\nexport const Span = styled.span`\r\n    color: #000000;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n    ${field}\r\n`;\r\n\r\nexport const Textarea = styled.textarea`\r\n    ${field}\r\n    resize: vertical;\r\n    max-height: 8rem;\r\n    height: 2rem;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n   \r\n\r\n`;\r\n\r\nexport const MessageSpan = styled.span`\r\n    color: #000000;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    display: flex;\r\n    justify-content: center;\r\n`;\r\n\r\nexport const ErrorSpan = styled.span`\r\n    color: #791a1a;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    display: flex;\r\n    justify-content: center;\r\n`;\r\n","import React, { useCallback, useState } from 'react';\r\nimport { Form, Input, Textarea, Button, Span, MessageSpan, ErrorSpan, Div } from './styles';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft, faCheck } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nimport './styles.scss';\r\n\r\nfunction Formulario({operation, initialValue, backFunction, callBack}) {\r\n\r\n    if(!initialValue) {\r\n        initialValue = {\r\n            sku: \"\",\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            quantity: \"\",\r\n            image: \"\"\r\n        };\r\n    }\r\n\r\n    const [product, setProduct] = useState(initialValue);\r\n    const [responseError, setResponseError] = useState(null);\r\n    const [message, setMessage] = useState(null);\r\n    const [currentOperation, setCurrentOperation] = useState(operation)\r\n    \r\n    const validEmptyFields = useCallback(() => {\r\n        const invalidKeys = Object.keys(product).filter(key => !product[key])\r\n        if(invalidKeys.length > 0) {\r\n            setResponseError(`Campos obrigatórios não preenchidos: ${invalidKeys.join(', ')}`)\r\n            const input = document.getElementsByName(invalidKeys[0])[0];\r\n            input.focus();\r\n            return false;\r\n        }\r\n        setResponseError(null);\r\n        return true;\r\n    },[product]);\r\n   \r\n    const handleChange = useCallback((e) => {\r\n        setProduct({\r\n            ...product,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    },[product]);\r\n\r\n    const handlePrice = useCallback((e) => {\r\n        let value;\r\n        value = e.target.value;\r\n        value = value.replace(/\\D/g,\"\");\r\n        value = value.replace(/(\\d)(\\d{2})$/,\"$1,$2\");\r\n        value = value.replace(/(?=(\\d{3})+(\\D))\\B/g,\".\");\r\n        e.target.value = value;\r\n    },[]);\r\n\r\n    const handleVoltar = useCallback((e) => {\r\n        e.preventDefault();\r\n        if(currentOperation !== operation) {\r\n            setProduct(initialValue);\r\n            setCurrentOperation(operation);\r\n            return\r\n        }\r\n        if(backFunction){\r\n            backFunction();\r\n        }\r\n    },[backFunction,currentOperation, operation, initialValue]);\r\n\r\n    const handleChangeOperation = useCallback((e) => {\r\n        e.preventDefault();\r\n        setCurrentOperation(e.target.innerHTML);\r\n    },[]);\r\n\r\n    const handleConfirmar = useCallback((e) => {\r\n        e.preventDefault();\r\n        if(!validEmptyFields()){\r\n            return;\r\n        }\r\n        if(callBack){\r\n            callBack({product, currentOperation})\r\n                .then(() => {\r\n                    if(currentOperation === 'Cadastrar') {\r\n                        setProduct(initialValue);\r\n                        setMessage('Cadastro efetuado com sucesso!');\r\n                        setTimeout(() => setMessage(null),5000);  \r\n                    }\r\n                    if(currentOperation === 'Editar') {\r\n                        setCurrentOperation('Visualizar');\r\n                    }                    \r\n                    if(currentOperation === 'Excluir') {\r\n                        backFunction();\r\n                    }\r\n                })\r\n                .catch(message => {\r\n                    setResponseError(message);\r\n                });\r\n            return;\r\n        }\r\n        setResponseError('Não há callback para enviar os valores...');\r\n    },[product, \r\n        validEmptyFields, \r\n        initialValue, \r\n        currentOperation, \r\n        callBack, \r\n        backFunction\r\n    ]);\r\n\r\n    const evalDisableField = useCallback((e) => {\r\n        return currentOperation==='Visualizar' || currentOperation==='Excluir';\r\n    },[currentOperation]);\r\n\r\nreturn (\r\n     <Form>\r\n        {message &&\r\n            <MessageSpan>{message}</MessageSpan>\r\n        }\r\n        {responseError &&\r\n            <ErrorSpan>{responseError}</ErrorSpan>\r\n        }\r\n        {currentOperation!=='Cadastrar' &&\r\n            <Span id='sku'>SKU</Span>\r\n        }\r\n        <Input placeholder=\"SKU\" \r\n            disabled={currentOperation!=='Cadastrar'}\r\n            onChange={handleChange} \r\n            name=\"sku\" \r\n            value={product.sku} />\r\n        {currentOperation!=='Cadastrar' &&\r\n            <Div>\r\n                <Span id='name'>Nome do Produto</Span>\r\n                <Input disabled={evalDisableField()}\r\n                    onChange={handleChange} \r\n                    name=\"name\" \r\n                    value={product.name} />\r\n            </Div>\r\n        }\r\n        {currentOperation==='Cadastrar' &&\r\n            <Input placeholder=\"Nome do Produto\" \r\n                    disabled={evalDisableField()}\r\n                    onChange={handleChange} \r\n                    name=\"name\" \r\n                    value={product.name} />\r\n        }\r\n        {currentOperation!=='Cadastrar' &&\r\n            <Span id='description'>Descrição</Span>\r\n        }\r\n        <Textarea placeholder=\"Descrição\" \r\n            disabled={evalDisableField()}\r\n            onChange={handleChange} \r\n            name=\"description\" \r\n            value={product.description}>\r\n        </Textarea>\r\n        {currentOperation!=='Cadastrar' &&\r\n            <Span id='price'>Preço de Venda</Span>\r\n        }\r\n        <Input placeholder=\"Preço de Venda\" \r\n            disabled={evalDisableField()}\r\n            onChange={(e) => { handlePrice(e); handleChange(e) } }\r\n            name=\"price\" \r\n            value={product.price} />\r\n        {currentOperation!=='Cadastrar' &&\r\n            <Span id='quantity'>Quantidade</Span>\r\n        }\r\n        <Input placeholder=\"Quantidade\"\r\n            disabled={evalDisableField()}\r\n            type=\"number\"\r\n            min=\"0\"\r\n            onChange={handleChange}\r\n            name=\"quantity\"\r\n            value={product.quantity} />\r\n        {currentOperation!=='Cadastrar' &&\r\n            <Span id='image'>Imagem</Span>\r\n        }\r\n        <Input placeholder=\"Imagem\" \r\n            disabled={evalDisableField()}\r\n            onChange={handleChange} \r\n            name=\"image\" \r\n            value={product.image} />\r\n        {currentOperation==='Visualizar' &&\r\n            <div>\r\n                <Button onClick={handleVoltar}>Voltar</Button> \r\n                <Button onClick={handleChangeOperation}>Editar</Button> \r\n                <Button onClick={handleChangeOperation}>Excluir</Button>\r\n            </div>\r\n        }\r\n        {currentOperation!=='Visualizar' &&\r\n            <div className=\"container-icon\">\r\n                <Button \r\n                    type=\"button\"\r\n                    data-tip data-for=\"voltarLista\"\r\n                    onClick={handleVoltar}><FontAwesomeIcon className=\"icon\" icon={faArrowLeft} /></Button>\r\n                    <ReactTooltip id=\"voltarLista\" place=\"right\" type=\"light\" effect=\"solid\"><span className=\"tooltip\">Voltar</span></ReactTooltip>\r\n                <Button \r\n                    type=\"button\"\r\n                    data-tip data-for=\"salvarCadastro\"\r\n                    className=\"button-primary\"\r\n                    onClick={handleConfirmar} default><FontAwesomeIcon className=\"icon\" icon={faCheck} /></Button>\r\n                    <ReactTooltip id=\"salvarCadastro\" place=\"left\" type=\"light\" effect=\"solid\"><span className=\"tooltip\">Salvar</span></ReactTooltip>\r\n            </div>\r\n        }\r\n    </Form>\r\n);\r\n}\r\n\r\nexport default Formulario;\r\n","const dao = {\r\n    getProducts: function() {\r\n        return new Promise((resolve, reject) => {\r\n            const produtos = JSON.parse(localStorage.getItem('produtos'));\r\n            resolve(produtos || []);\r\n        });\r\n    },\r\n    setProducts: function(produtos) {\r\n        return new Promise((resolve, reject) => {\r\n            if(produtos && produtos.length > 0){\r\n                localStorage.setItem(\"produtos\", JSON.stringify(produtos));\r\n                resolve();\r\n            } else {\r\n                reject('Não foi possível cadastrar os produtos!');\r\n            }\r\n        });\r\n    },\r\n    setProduct: function(produto) {\r\n        return new Promise((resolve, reject) => {\r\n            this.getProducts()\r\n                .then((produtos) => {\r\n                    if(produtos.find((prod) => prod.sku === produto.sku)) {\r\n                        reject(\"SKU já cadastrado!\");\r\n                        return;\r\n                    }\r\n                    if(produtos){\r\n                        localStorage.setItem(\"produtos\", JSON.stringify([...produtos, produto]));\r\n                        resolve();\r\n                    } else {\r\n                        reject('Não foi possível cadastrar o produto!');\r\n                    }\r\n                }).catch((message) => {\r\n                    reject(message);\r\n                })\r\n        });\r\n    },\r\n};\r\n\r\nexport default dao;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n    display: flex;\r\n    place-content: center;\r\n    flex-direction: column;\r\n`;\r\n","import React from 'react';\r\nimport Formulario from \"../Formulario\";\r\nimport dao from '../../../services/dao'\r\nimport  { useHistory } from 'react-router-dom'\r\nimport { Container } from './styles'\r\n\r\nfunction Cadastro() {\r\n    const history = useHistory();\r\n    const voltar = () => {\r\n        history.push('/listagem');\r\n    };\r\n    const persistProd = ({product}) => new Promise((resolve, reject) => {\r\n        dao.setProduct(product)\r\n            .then(() => resolve())\r\n            .catch((message) => reject(message));\r\n    });\r\n    return <Container>\r\n        <Formulario \r\n            operation='Cadastrar'\r\n            callBack={persistProd}\r\n            backFunction={voltar}/>\r\n    </Container>;\r\n}\r\n\r\nexport default Cadastro;\r\n","import styled from 'styled-components';\r\n\r\nexport const Modal = styled.div`\r\n    height: 80vh;\r\n    width: 60vw;\r\n    background: rgba(255,255,255,.8);\r\n    backdrop-filter: blur(5px);\r\n    border-radius: .4rem;\r\n    padding: 2rem;\r\n    position: absolute;\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow-y: auto;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    box-shadow: RGBA(10, 10, 10, .3) 0 0 2.4rem -1rem;\r\n    z-index: 99;\r\n`;\r\n","import React from 'react';\r\nimport Formulario, {} from '../Formulario';\r\n\r\nimport { Modal } from './styles'\r\n\r\nfunction Detalhes ({produto, select, update}) {\r\n\r\n    const closeModal = () => {\r\n        select(null);\r\n    };\r\n\r\n    const getValues = ({product, currentOperation}) => {\r\n        return update({currentOperation, product});\r\n    }\r\n\r\n    return (\r\n        <Modal>\r\n            <Formulario \r\n                operation='Visualizar'\r\n                initialValue={produto}\r\n                backFunction={closeModal}\r\n                callBack={getValues}\r\n                />\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default Detalhes;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport dao from '../../../services/dao';\r\nimport Detalhes from '../Detalhes';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport './styles.scss';\r\n\r\nfunction Listagem() {\r\n    const [produtos, setProdutos] = useState([]);\r\n    const [currentProd, setCurrentProd] = useState(null);\r\n    const [message, setMessage] = useState(null);\r\n\r\n    const receiveProduct = ({product, currentOperation}) => new Promise((resolve, reject) => {\r\n        let refreshedProducts;\r\n        if(currentOperation === 'Excluir') {\r\n            refreshedProducts = produtos.filter(prod => prod.sku !== product.sku);\r\n        }\r\n        if(currentOperation === 'Editar') {\r\n            const otherProducts = produtos.filter(prod => prod.sku !== product.sku);\r\n            refreshedProducts = [...otherProducts, product];\r\n        }\r\n        dao.setProducts(refreshedProducts)\r\n            .then(() => {\r\n                    setProdutos(refreshedProducts);\r\n                    resolve();\r\n                })\r\n            .catch((message) => reject(message));\r\n    });\r\n\r\n    const renderProducts = useCallback((productsToRender) => {\r\n        \r\n        if(productsToRender){\r\n            if(productsToRender.length > 0){\r\n                setProdutos(productsToRender);\r\n            } else {\r\n                setMessage('Não sobrou nenhum produto... =(');\r\n            }\r\n            return;\r\n        }\r\n        dao.getProducts()\r\n        .then((prods) => {\r\n            if(prods.length > 0) {\r\n                setProdutos(prods);\r\n            } else {\r\n                setMessage('A lista de produtos está vazia. Vamos começar?');\r\n            }\r\n        })\r\n        .catch((message) => {\r\n            setMessage(message);\r\n        });\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        renderProducts();\r\n    }, [renderProducts]);\r\n\r\n    const visualizarDetalhes = useCallback((produto) => {\r\n        setCurrentProd(produto);\r\n    },[])\r\n\r\n    return <div>\r\n        { !message && \r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>SKU</th>\r\n                        <th>Nome</th>\r\n                        <th>Preço</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {produtos.map(produto => (\r\n                        <tr key={produto.sku}>\r\n                            <td>{produto.sku}</td>\r\n                            <td>{produto.name}</td>\r\n                            <td>{produto.price}</td>\r\n                            <td><button onClick={() => visualizarDetalhes(produto)}><FontAwesomeIcon className=\"icon\" icon={faEllipsisV} /></button></td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        }\r\n        { message &&\r\n            <p>{message}</p>\r\n        }\r\n        {currentProd && <Detalhes produto={currentProd} select={setCurrentProd} update={receiveProduct} />}\r\n    </div>;\r\n}\r\n\r\nexport default Listagem;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Cadastro from './components/Produtos/Cadastro';\r\nimport Listagem from './components/Produtos/Listagem';\r\n\r\nexport default function Routes() {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/cadastro\" component={Cadastro} />\r\n            <Route path=\"/listagem\" component={Listagem} />\r\n            <Route path=\"/\" component={Listagem} />\r\n        </Switch>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faListUl, faPlus } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport \"./styles.scss\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default function Menu() {\r\n\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/listagem\" activeClassName=\"active\"><FontAwesomeIcon className=\"icon\" icon={faListUl} />Produtos cadastrados</NavLink>\r\n      \r\n      <NavLink exact to=\"/cadastro\" activeClassName=\"active\"><FontAwesomeIcon className=\"icon\" icon={faPlus} />Novo produto</NavLink>\r\n    </nav>\r\n  )\r\n}","import React from 'react';\r\nimport \"./styles.scss\";\r\n\r\nexport default function Sidebar() {\r\n\r\n  return (\r\n    <div>\r\n      <h1>E-Commerce<span>SENAC</span></h1>\r\n      <a href=\"https://dribbble.com/tarka\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n        <img src={require(\"./images/Peter-Tarka.png\")} alt=\"Ilustração\" />\r\n      </a>\r\n    </div>\r\n  )\r\n\r\n}","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport Routes from './routes';\r\nimport Menu from './components/Menu';\r\nimport Sidebar from './components/Sidebar';\r\nimport \"./App.scss\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <BrowserRouter>\r\n\r\n      <section className=\"section section-sidebar\">\r\n        <Sidebar />\r\n      </section>\r\n\r\n      <section className=\"section section-content\">\r\n        <Menu />\r\n        <Routes />\r\n      </section>\r\n\r\n    </BrowserRouter>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />,document.getElementById('root'));\r\n"],"sourceRoot":""}