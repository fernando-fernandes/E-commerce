(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{33:function(e,t,n){e.exports=n(50)},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){e.exports=n.p+"static/media/Peter-Tarka.ed5ab940.png"},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),o=n.n(c),l=n(12),u=n(2),i=n(17),s=n(21),m=n(9),d=n(3),f=n(4);function b(){var e=Object(d.a)(["\n    color: #791a1a;\n    font-size: 18px;\n    font-weight: bold;\n    display: flex;\n    justify-content: center;\n"]);return b=function(){return e},e}function p(){var e=Object(d.a)(["\n    color: #000000;\n    font-size: 18px;\n    font-weight: bold;\n    display: flex;\n    justify-content: center;\n"]);return p=function(){return e},e}function E(){var e=Object(d.a)(["\n   \n\n"]);return E=function(){return e},e}function v(){var e=Object(d.a)(["\n    ","\n    resize: vertical;\n    max-height: 8rem;\n    height: 2rem;\n"]);return v=function(){return e},e}function h(){var e=Object(d.a)(["\n    ","\n"]);return h=function(){return e},e}function g(){var e=Object(d.a)(["\n    color: #000000;\n"]);return g=function(){return e},e}function O(){var e=Object(d.a)(["\n    width: 400px;\n    display: flex;\n    align-items: center;\n    background: red;\n"]);return O=function(){return e},e}function j(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return j=function(){return e},e}function k(){var e=Object(d.a)(["\n    padding: .5rem 1rem;\n    margin-top: 2rem;\n    border: none;\n    background: none;\n    border-bottom: 3px solid RGBA(243, 208, 131, .7);\n    font-size: 1.3em;\n    font-family: 'Montserrat', sans-serif;\n    font-weight: 400;\n    color: #333;\n    transition: border 130ms ease-in;\n\n    :focus {\n        outline: none;\n        border-bottom: 3px solid #4480bd;\n    }\n\n    ::placeholder {\n        color: #aaa;\n    }\n"]);return k=function(){return e},e}var C=Object(f.a)(k()),y=f.b.form(j()),x=f.b.div(O()),N=f.b.span(g()),P=f.b.input(h(),C),S=f.b.textarea(v(),C),w=f.b.button(E()),V=f.b.span(p()),z=f.b.span(b()),B=n(10),D=n(11),I=n(25);n(43);var J=function(e){var t=e.operation,n=e.initialValue,c=e.backFunction,o=e.callBack;n||(n={sku:"",name:"",description:"",price:"",quantity:"",image:""});var l=Object(a.useState)(n),u=Object(m.a)(l,2),d=u[0],f=u[1],b=Object(a.useState)(null),p=Object(m.a)(b,2),E=p[0],v=p[1],h=Object(a.useState)(null),g=Object(m.a)(h,2),O=g[0],j=g[1],k=Object(a.useState)(t),C=Object(m.a)(k,2),J=C[0],q=C[1],A=Object(a.useCallback)((function(){var e=Object.keys(d).filter((function(e){return!d[e]}));return e.length>0?(v("Campos obrigat\xf3rios n\xe3o preenchidos: ".concat(e.join(", "))),document.getElementsByName(e[0])[0].focus(),!1):(v(null),!0)}),[d]),K=Object(a.useCallback)((function(e){f(Object(s.a)(Object(s.a)({},d),{},Object(i.a)({},e.target.name,e.target.value)))}),[d]),U=Object(a.useCallback)((function(e){var t;t=(t=(t=(t=e.target.value).replace(/\D/g,"")).replace(/(\d)(\d{2})$/,"$1,$2")).replace(/(?=(\d{3})+(\D))\B/g,"."),e.target.value=t}),[]),F=Object(a.useCallback)((function(e){if(e.preventDefault(),J!==t)return f(n),void q(t);c&&c()}),[c,J,t,n]),L=Object(a.useCallback)((function(e){e.preventDefault(),q(e.target.innerHTML)}),[]),T=Object(a.useCallback)((function(e){e.preventDefault(),A()&&(o?o({product:d,currentOperation:J}).then((function(){"Cadastrar"===J&&(f(n),j("Cadastro efetuado com sucesso!"),setTimeout((function(){return j(null)}),5e3)),"Editar"===J&&q("Visualizar"),"Excluir"===J&&c()})).catch((function(e){v(e)})):v("N\xe3o h\xe1 callback para enviar os valores..."))}),[d,A,n,J,o,c]),$=Object(a.useCallback)((function(e){return"Visualizar"===J||"Excluir"===J}),[J]);return r.a.createElement(y,null,O&&r.a.createElement(V,null,O),E&&r.a.createElement(z,null,E),"Cadastrar"!==J&&r.a.createElement(N,{id:"sku"},"SKU"),r.a.createElement(P,{placeholder:"SKU",disabled:"Cadastrar"!==J,onChange:K,name:"sku",value:d.sku}),"Cadastrar"!==J&&r.a.createElement(x,null,r.a.createElement(N,{id:"name"},"Nome do Produto"),r.a.createElement(P,{disabled:$(),onChange:K,name:"name",value:d.name})),"Cadastrar"===J&&r.a.createElement(P,{placeholder:"Nome do Produto",disabled:$(),onChange:K,name:"name",value:d.name}),"Cadastrar"!==J&&r.a.createElement(N,{id:"description"},"Descri\xe7\xe3o"),r.a.createElement(S,{placeholder:"Descri\xe7\xe3o",disabled:$(),onChange:K,name:"description",value:d.description}),"Cadastrar"!==J&&r.a.createElement(N,{id:"price"},"Pre\xe7o de Venda"),r.a.createElement(P,{placeholder:"Pre\xe7o de Venda",disabled:$(),onChange:function(e){U(e),K(e)},name:"price",value:d.price}),"Cadastrar"!==J&&r.a.createElement(N,{id:"quantity"},"Quantidade"),r.a.createElement(P,{placeholder:"Quantidade",disabled:$(),type:"number",min:"0",onChange:K,name:"quantity",value:d.quantity}),"Cadastrar"!==J&&r.a.createElement(N,{id:"image"},"Imagem"),r.a.createElement(P,{placeholder:"Imagem",disabled:$(),onChange:K,name:"image",value:d.image}),"Visualizar"===J&&r.a.createElement("div",null,r.a.createElement(w,{onClick:F},"Voltar"),r.a.createElement(w,{onClick:L},"Editar"),r.a.createElement(w,{onClick:L},"Excluir")),"Visualizar"!==J&&r.a.createElement("div",{className:"container-icon"},r.a.createElement(w,{type:"button","data-tip":!0,"data-for":"voltarLista",onClick:F},r.a.createElement(B.a,{className:"icon",icon:D.a})),r.a.createElement(I.a,{id:"voltarLista",place:"right",type:"light",effect:"solid"},r.a.createElement("span",{className:"tooltip"},"Voltar")),r.a.createElement(w,{type:"button","data-tip":!0,"data-for":"salvarCadastro",className:"button-primary",onClick:T,default:!0},r.a.createElement(B.a,{className:"icon",icon:D.b})),r.a.createElement(I.a,{id:"salvarCadastro",place:"left",type:"light",effect:"solid"},r.a.createElement("span",{className:"tooltip"},"Salvar"))))},q=n(19),A={getProducts:function(){return new Promise((function(e,t){e(JSON.parse(localStorage.getItem("produtos"))||[])}))},setProducts:function(e){return new Promise((function(t,n){e&&e.length>0?(localStorage.setItem("produtos",JSON.stringify(e)),t()):n("N\xe3o foi poss\xedvel cadastrar os produtos!")}))},setProduct:function(e){var t=this;return new Promise((function(n,a){t.getProducts().then((function(t){t.find((function(t){return t.sku===e.sku}))?a("SKU j\xe1 cadastrado!"):t?(localStorage.setItem("produtos",JSON.stringify([].concat(Object(q.a)(t),[e]))),n()):a("N\xe3o foi poss\xedvel cadastrar o produto!")})).catch((function(e){a(e)}))}))}};function K(){var e=Object(d.a)(["\n    display: flex;\n    place-content: center;\n    flex-direction: column;\n"]);return K=function(){return e},e}var U=f.b.div(K());var F=function(){var e=Object(u.f)();return r.a.createElement(U,null,r.a.createElement(J,{operation:"Cadastrar",callBack:function(e){var t=e.product;return new Promise((function(e,n){A.setProduct(t).then((function(){return e()})).catch((function(e){return n(e)}))}))},backFunction:function(){e.push("/listagem")}}))};function L(){var e=Object(d.a)(["\n    height: 80vh;\n    width: 60vw;\n    background: rgba(255,255,255,.8);\n    backdrop-filter: blur(5px);\n    border-radius: .4rem;\n    padding: 2rem;\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    box-shadow: RGBA(10, 10, 10, .3) 0 0 2.4rem -1rem;\n    z-index: 99;\n"]);return L=function(){return e},e}var T=f.b.div(L());var $=function(e){var t=e.produto,n=e.select,a=e.update;return r.a.createElement(T,null,r.a.createElement(J,{operation:"Visualizar",initialValue:t,backFunction:function(){n(null)},callBack:function(e){var t=e.product,n=e.currentOperation;return a({currentOperation:n,product:t})}}))};n(45);var G=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),l=Object(m.a)(o,2),u=l[0],i=l[1],s=Object(a.useState)(null),d=Object(m.a)(s,2),f=d[0],b=d[1],p=Object(a.useCallback)((function(e){e?e.length>0?c(e):b("N\xe3o sobrou nenhum produto... =("):A.getProducts().then((function(e){e.length>0?c(e):b("A lista de produtos est\xe1 vazia. Vamos come\xe7ar?")})).catch((function(e){b(e)}))}),[]);Object(a.useEffect)((function(){p()}),[p]);var E=Object(a.useCallback)((function(e){i(e)}),[]);return r.a.createElement("div",null,!f&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SKU"),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Pre\xe7o"),r.a.createElement("th",null))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.sku},r.a.createElement("td",null,e.sku),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return E(e)}},r.a.createElement(B.a,{className:"icon",icon:D.c}))))})))),f&&r.a.createElement("p",null,f),u&&r.a.createElement($,{produto:u,select:i,update:function(e){var t=e.product,a=e.currentOperation;return new Promise((function(e,r){var o;if("Excluir"===a&&(o=n.filter((function(e){return e.sku!==t.sku}))),"Editar"===a){var l=n.filter((function(e){return e.sku!==t.sku}));o=[].concat(Object(q.a)(l),[t])}A.setProducts(o).then((function(){c(o),e()})).catch((function(e){return r(e)}))}))}}))};function M(){return r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/cadastro",component:F}),r.a.createElement(u.a,{path:"/listagem",component:G}),r.a.createElement(u.a,{path:"/",component:G}))}n(46);function Q(){return r.a.createElement("nav",null,r.a.createElement(l.b,{to:"/listagem",activeClassName:"active"},r.a.createElement(B.a,{className:"icon",icon:D.d}),"Produtos cadastrados"),r.a.createElement(l.b,{exact:!0,to:"/cadastro",activeClassName:"active"},r.a.createElement(B.a,{className:"icon",icon:D.e}),"Novo produto"))}n(47);function R(){return r.a.createElement("div",null,r.a.createElement("h1",null,"E-Commerce",r.a.createElement("span",null,"SENAC")),r.a.createElement("a",{href:"https://dribbble.com/tarka",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:n(48),alt:"Ilustra\xe7\xe3o"})))}n(49);function H(){return r.a.createElement(l.a,null,r.a.createElement("section",{className:"section section-sidebar"},r.a.createElement(R,null)),r.a.createElement("section",{className:"section section-content"},r.a.createElement(Q,null),r.a.createElement(M,null)))}o.a.render(r.a.createElement(H,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.70b96792.chunk.js.map